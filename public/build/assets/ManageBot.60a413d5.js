/* empty css                  */import{r as y,n as Q,p as Y,E as G,C as L,D as P,G as J,a as b,c as B,b as t,u as r,w as l,d as u,g as V,e as S,f as T,F as D,H as K,l as i,x as w,t as W,j as p,i as m,I as R}from"./app.dfece0eb.js";import{_ as X}from"./Authenticated.2f366628.js";import"./ApplicationLogo.5c35384b.js";import"./plugin-vue_export-helper.21dcd24c.js";const Z={class:"flex"},ee=i("x"),te={class:"py-12"},se={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},le={class:"p-6 bg-white border-b border-gray-200 g-3"},ae=u("div",{class:"flex justify-between p-3 border-b"},[u("h4",{class:"text-lg font-medium leading-6 text-gray-900"}," Bot Management ")],-1),ne={class:"flex"},ue=i("x"),de={class:"px-10"},ie=i("Edit Query"),re=i("Delete"),ce=i("Add Bot Query"),pe=i("Edit"),me=i("Delete"),ge={layout:X},xe=Object.assign(ge,{props:{responses:{type:Array,default:()=>[]}},setup($){const x=y([]),o=Q({id:"",text:"",tag:""}),a=Q({id:"",text:"",botResponseId:null}),g=y(!1),f=y(!1),_=y(!1),A=()=>{a.post(route("manage-bot.query",{botResponse:a.botResponseId}),{onSuccess:()=>{x.value.push(a.text),a.reset("text"),p.success({title:"Success",message:m().props.value.flash.success})}})},N=()=>{a.put(route("manage-bot.query.update",{botQuery:a.id}),{onSuccess:()=>{a.reset(),_.value=!1,p.success({title:"Success",message:m().props.value.flash.success})}})},q=()=>{o.post(route("manage-bot.response"),{onSuccess:()=>{o.reset(),p.success({title:"Success",message:m().props.value.flash.success})}})},U=()=>{o.put(route("manage-bot.response",{id:o.id}),{onSuccess:()=>{k(),p.success({title:"Success",message:m().props.value.flash.success})}})},k=()=>{o.reset(),g.value=!1},z=()=>{a.reset(),f.value=!1,_.value=!1},I=n=>{o.reset(),o.id=n.id,o.text=n.text,o.tag=n.tag,g.value=!0},M=n=>{a.reset(),a.id=n.id,a.text=n.text,f.value=!0,C(n.bot_response_id)},C=n=>{x.value=[],a.botResponseId=n,_.value=!0},F=n=>{R.confirm("Note: Deleting this bot response will also delete all queries related to it. Continue?","Delete Bot Response",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{o.delete(route("manage-bot.response",{botResponse:n}),{onSuccess:()=>{p.success({title:"Success",message:m().props.value.flash.success})}})})},j=n=>{R.confirm("Are yo sure you want to delete this bot query?","Delete Bot Query",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{o.delete(route("manage-bot.query.delete",{botQuery:n}),{onSuccess:()=>{p.success({title:"Success",message:m().props.value.flash.success})}})})};return(n,s)=>{const h=Y,d=G,H=L,c=P,E=J;return b(),B(D,null,[t(r(K),{title:"Manage Bot"}),t(H,{modelValue:_.value,"onUpdate:modelValue":s[3]||(s[3]=e=>_.value=e),title:"Bot Query",width:"50%"},{default:l(()=>[u("form",{class:"grid grid-cols-5 gap-4 mb-3",onSubmit:s[2]||(s[2]=V(e=>f.value?N():A(),["prevent"]))},[t(h,{class:"col-span-4",placeholder:"Type in Bot Query",modelValue:r(a).text,"onUpdate:modelValue":s[0]||(s[0]=e=>r(a).text=e),required:""},null,8,["modelValue"]),u("div",Z,[t(d,{type:"warning",class:"flex-1","native-type":"submit"},{default:l(()=>[i(w(f.value?"Update":"Add"),1)]),_:1}),f.value?(b(),S(d,{key:0,type:"default",class:"flex-shrink-1 ml-1","native-type":"button",onClick:s[1]||(s[1]=e=>z())},{default:l(()=>[ee]),_:1})):T("",!0)])],32),(b(!0),B(D,null,W(x.value,e=>(b(),B("p",{class:"text-green-500",key:e},w(e)+" Added!",1))),128))]),_:1},8,["modelValue"]),u("div",te,[u("div",se,[u("div",oe,[u("div",le,[ae,u("form",{class:"grid grid-cols-5 gap-4 p-3 border-b",onSubmit:s[7]||(s[7]=V(e=>g.value?U():q(),["prevent"]))},[t(h,{class:"col-span-3",placeholder:"Type in Bot Response",modelValue:r(o).text,"onUpdate:modelValue":s[4]||(s[4]=e=>r(o).text=e),required:""},null,8,["modelValue"]),t(h,{placeholder:"Tag",modelValue:r(o).tag,"onUpdate:modelValue":s[5]||(s[5]=e=>r(o).tag=e)},null,8,["modelValue"]),u("div",ne,[t(d,{type:"primary","native-type":"submit",class:"flex-1"},{default:l(()=>[i(w(g.value?"Update":"Add"),1)]),_:1}),g.value?(b(),S(d,{key:0,type:"default",class:"flex-shrink-1 ml-1","native-type":"button",onClick:s[6]||(s[6]=e=>k())},{default:l(()=>[ue]),_:1})):T("",!0)])],32),u("div",null,[t(E,{data:$.responses,style:{width:"100%"}},{default:l(()=>[t(c,{type:"expand"},{default:l(e=>[u("div",de,[t(E,{data:e.row.queries},{default:l(()=>[t(c,{label:"Bot Queries",prop:"text"}),t(c,{label:"Action"},{default:l(v=>[t(d,{size:"small",type:"warning",onClick:O=>M(v.row)},{default:l(()=>[ie]),_:2},1032,["onClick"]),t(d,{size:"small",type:"danger",onClick:O=>j(v.row.id)},{default:l(()=>[re]),_:2},1032,["onClick"])]),_:1})]),_:2},1032,["data"])])]),_:1}),t(c,{label:"Response",prop:"text"}),t(c,{label:"Tag",prop:"tag"}),t(c,{label:"Action"},{default:l(e=>[t(d,{size:"small",type:"warning",onClick:v=>C(e.row.id)},{default:l(()=>[ce]),_:2},1032,["onClick"]),t(d,{size:"small",onClick:v=>I(e.row)},{default:l(()=>[pe]),_:2},1032,["onClick"]),t(d,{size:"small",type:"danger",onClick:v=>F(e.row.id)},{default:l(()=>[me]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])])])])],64)}}});export{xe as default};
